"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)})([function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});__webpack_require__.d(__webpack_exports__,"appInstance",function(){return appInstance});var __WEBPACK_IMPORTED_MODULE_0__objects_Application__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_1__objects_PopulationPanel__=__webpack_require__(5);var appInstance=new __WEBPACK_IMPORTED_MODULE_0__objects_Application__["a"];window.onresize=function(){appInstance.populationPanel.resize()}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__StrategyPanel__=__webpack_require__(6);var __WEBPACK_IMPORTED_MODULE_1__InformationsPanel__=__webpack_require__(10);var __WEBPACK_IMPORTED_MODULE_2__AttributesPanel__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_3__PopulationPanel__=__webpack_require__(5);var Application=function(){function Application(){_classCallCheck(this,Application);this.attributesPanel=new __WEBPACK_IMPORTED_MODULE_2__AttributesPanel__["a"](this);this.strategyPanel=new __WEBPACK_IMPORTED_MODULE_0__StrategyPanel__["a"](this);this.populationPanel=new __WEBPACK_IMPORTED_MODULE_3__PopulationPanel__["a"](this);this.informationsPanel=new __WEBPACK_IMPORTED_MODULE_1__InformationsPanel__["a"](this)}_createClass(Application,[{key:"getStrategyPanel",value:function getStrategyPanel(){return this.strategyPanel}},{key:"getPopulationPanel",value:function getPopulationPanel(){return this.populationPanel}},{key:"getAttributesPanel",value:function getAttributesPanel(){return this.attributesPanel}},{key:"getInformationsPanel",value:function getInformationsPanel(){return this.informationsPanel}}]);return Application}();__webpack_exports__["a"]=Application},function(module,__webpack_exports__,__webpack_require__){"use strict";var Attribute=function(){function Attribute(jsonDesc,attribute,value){_classCallCheck(this,Attribute);if((typeof jsonDesc==="undefined"?"undefined":_typeof(jsonDesc))!=="object"){throw new Error("@Attribute.constructor() : L'argument jsonDesc doit être un objet JSON")}if(typeof attribute!=="string"){throw new Error("@Attribute.constructor() : L'argument attribute doit être une chaîne de caractère")}if(typeof value!=="string"){throw new Error("@Attribute.constructor() : L'argument value doit être une chaîne de caractère")}this.attributeKey=attribute;this.value=value;this.short=jsonDesc["court"];this.long=jsonDesc["long"]}_createClass(Attribute,[{key:"getValue",value:function getValue(){return this.value}},{key:"getShortText",value:function getShortText(){return this.short}},{key:"getLongText",value:function getLongText(){return this.long}},{key:"getAttributeKey",value:function getAttributeKey(){return this.attributeKey}},{key:"prettyPrint",value:function prettyPrint(){console.log("Attribut "+this.getAttributeKey()+" -> "+this.getValue()+" :");console.log('\ttexte long  : "'+this.getLongText()+'"\n\ttexte court : "'+this.getShortText()+'"')}}]);return Attribute}();__webpack_exports__["a"]=Attribute},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return STRATEGY_OPTIONS});__webpack_exports__["b"]=isNetworkEvent;var STRATEGY_OPTIONS={locale:"en",height:"100%",width:"100%",autoResize:true,edges:{arrows:{to:true}},layout:{hierarchical:{direction:"UD"}},interaction:{hover:true},manipulation:{enabled:false}};var NETWORK_EVENTS=["click","doubleClick","dragStart","dragging","dragEnd","zoom","showPopup","hidePopup","select","selectNode","selectEdge","deselectNode","deselectEdge","hoverNode","hoverEdge","blurNode","blurEdge"];Object.freeze(NETWORK_EVENTS);function isNetworkEvent(event){if(typeof event!=="string")return false;else return NETWORK_EVENTS.includes(event)}function createChildDiv(parent,childId){if(!(parent instanceof HTMLElement)||typeof childId!=="string"){return undefined}else{var child=document.createElement("div");child.setAttribute("id",childId);parent.appendChild(child);return child}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__AttributesCollection__=__webpack_require__(7);var __WEBPACK_IMPORTED_MODULE_1__Common__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_2__Attribute__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_3__AttributeButton__=__webpack_require__(9);var __WEBPACK_IMPORTED_MODULE_4__Application__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_5__Main__=__webpack_require__(0);var AttributesPanel=function(){function AttributesPanel(){var _this=this;_classCallCheck(this,AttributesPanel);this.attributesCollection=__WEBPACK_IMPORTED_MODULE_0__AttributesCollection__["a"];this.element=document.getElementById("attributs");if(!(this.element instanceof HTMLElement)){throw new Error("@AttributesPanel() -> Erreur : element doit être une instance de HTMLElement d'id 'strategie-network'")}this.buttons=[];var map=this.attributesCollection.getAttributesValuesKeysMap();map.forEach(function(attribute){_this.buttons[attribute]=[];map[attribute].forEach(function(value){_this.buttons[attribute][value]=undefined;try{_this.addButton(_this.attributesCollection.getAttributeInstance(attribute,value))}catch(e){console.error("@AttributesPanel.constructor() : erreur lors de l'ajout du boutons ("+attribute+","+value+") : ");console.error(e)}})});this.removeAttributeButton=document.getElementById("boutonAnnulerSupposition");this.removeAttributeButton.addEventListener("click",this.annulerSupposition)}_createClass(AttributesPanel,[{key:"updateButtonsStatus",value:function updateButtonsStatus(){if(__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"]===undefined){return}if(__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getStrategyPanel()===undefined){return}var selection=__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getStrategyPanel().getSelection();if(Array.isArray(selection)){if(selection.length===1){var node=selection[0];if(node.attribute!==undefined&&node.attribute!==null&&node.attribute instanceof __WEBPACK_IMPORTED_MODULE_2__Attribute__["a"]){this.removeAttributeButton.setAttribute("class","btnActif")}var nodes=__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getStrategyPanel().getNodes(selection);if(Array.isArray(nodes)&&nodes.length>0){this.updateAttributesButtons(nodes)}}else{this.removeAttributeButton.setAttribute("class","btnInactif")}}}},{key:"updateAttributesButtons",value:function updateAttributesButtons(nodes){}},{key:"annulerSupposition",value:function annulerSupposition(event){console.log("Annulation supposition");if(__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"]===undefined){return}var strategyPanel=__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getStrategyPanel();var attributesPanel=__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getAttributesPanel();if(strategyPanel!==undefined&&attributesPanel!==undefined){strategyPanel.setAttributeToSelection(null);attributesPanel.updateButtonsStatus()}}},{key:"addButton",value:function addButton(attribute){if(!(attribute instanceof __WEBPACK_IMPORTED_MODULE_2__Attribute__["a"])){throw new Error("@AttributesPanel.addButton() : L'attribut attribute doit être une instance de Attribute")}if(!(this.buttons[attribute.getAttributeKey()][attribute.getValue()]instanceof __WEBPACK_IMPORTED_MODULE_3__AttributeButton__["a"])){this.buttons[attribute.getAttributeKey()][attribute.getValue()]=new __WEBPACK_IMPORTED_MODULE_3__AttributeButton__["a"](attribute,this)}}},{key:"hideButton",value:function hideButton(attribute){if(!(attribute instanceof __WEBPACK_IMPORTED_MODULE_2__Attribute__["a"])){throw new Error("@AttributesPanel.addButton() : L'attribut attribute doit être une instance de Attribute")}if(this.buttons[attribute.getAttributeKey()][attribute.getValue()]instanceof __WEBPACK_IMPORTED_MODULE_2__Attribute__["a"]){this.buttons[attribute.getAttributeKey()][attribute.getValue()].hide()}}},{key:"showButton",value:function showButton(attribute){if(!(attribute instanceof __WEBPACK_IMPORTED_MODULE_2__Attribute__["a"])){throw new Error("@AttributesPanel.addButton() : L'attribut attribute doit être une instance de Attribute")}if(this.buttons[attribute.getAttributeKey()][attribute.getValue()]instanceof __WEBPACK_IMPORTED_MODULE_2__Attribute__["a"]){this.buttons[attribute.getAttributeKey()][attribute.getValue()].show()}}},{key:"onButtonClick",value:function onButtonClick(button){if(!(button instanceof __WEBPACK_IMPORTED_MODULE_3__AttributeButton__["a"])){throw new Error("@AttributesPanel.onButtonClick() : L'attribut button doit être une instance de AttributeButton")}if(__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getStrategyPanel()!==undefined){__WEBPACK_IMPORTED_MODULE_5__Main__["appInstance"].getStrategyPanel().setAttributeToSelection(button.getAttribute());this.updateButtonsStatus()}}},{key:"getElement",value:function getElement(){return this.element}}]);return AttributesPanel}();__webpack_exports__["a"]=AttributesPanel},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Character__=__webpack_require__(11);var __WEBPACK_IMPORTED_MODULE_1__Application__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_2__Main__=__webpack_require__(0);var popSize=24;var charWidth=150;var charHeight=150;var borderSize=3;var popJson={characters:[{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]},{nom:"Magalie",img:"./assets/charimg/magalie.png",attributs:[{key:"cheveux",value:"rouquine"},{key:"yeux",value:"marrons"},{key:"personalité",value:"salope"}]},{nom:"Joseph",img:"./assets/charimg/joseph.png",attributs:[{key:"cheveux",value:"blond"},{key:"yeux",value:"bleu"},{key:"personalité",value:"nazi"}]}]};var PopulationPanel=function(){function PopulationPanel(){_classCallCheck(this,PopulationPanel);this.population=new Array(popSize);this.table=document.getElementById("tableChar");this.element=document.getElementById("population");this.load();this.createButtons();this.loadTable();this.majPopInfo(popSize,0)}_createClass(PopulationPanel,[{key:"load",value:function load(){var chars=popJson;for(var i=0;i<chars.characters.length;i++){this.population[i]=new __WEBPACK_IMPORTED_MODULE_0__Character__["a"](chars.characters[i],i)}}},{key:"getChar",value:function getChar(i){return this.population[i]}},{key:"refresh",value:function refresh(tabAttribute){var actif=0,elim=0;for(var i=0;i<this.population.length;i++){var bool=this.population[i].check(tabAttribute);if(bool)actif++;else elim++}this.majPopInfo(actif,elim)}},{key:"loadTable",value:function loadTable(){var nbCol=Math.floor(this.element.offsetWidth/(charWidth+borderSize*2));nbCol=nbCol===0?1:nbCol;var nbRow=Math.ceil(popSize/nbCol);this.table.innerHTML="";var row=void 0;for(var i=0;i<popSize;i++){if(i%nbCol===0){row=this.addRow()}row.appendChild(this.addChar(this.getChar(i)))}this.centerCharInfos();this.sizeTable()}},{key:"addRow",value:function addRow(){var row=document.createElement("tr");this.table.appendChild(row);return row}},{key:"addChar",value:function addChar(char){var col=document.createElement("td");col.id="char"+char.id;col.className="charElem";col.innerHTML="\n\t\t\t\t\t\t\t\t<figure id = 'charfigure"+char.id+"'>\n\t\t\t\t\t\t\t\t\t<img src ='"+char.img+"' alt='Perso"+char.id+"' id = 'charimg"+char.id+"'/>\n\t\t\t\t\t\t\t\t\t<figcaption>\n\t\t\t\t\t\t\t\t\t\t<div class = 'charInfo'>\n\t\t\t\t\t\t\t\t\t\t\t<h3 id = 'charName'>"+char.nom+"</h3>\n\t\t\t\t\t\t\t\t\t\t\t<p id = 'charstatus"+char.id+'\'>Suspect</p>\n\t\t\t\t\t\t\t\t\t\t\t<div class = "CharTooltip">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="arrow"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\'CharTooltip-text\'>'+char.listeAttribute()+"</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t";return col}},{key:"centerCharInfos",value:function centerCharInfos(){var charinfo=document.getElementsByClassName("charInfo");for(var i=0;i<charinfo.length;i++){this.centerInParent(charinfo[i])}}},{key:"resize",value:function resize(){this.loadTable();var tab=[];this.refresh(tab)}},{key:"sizeTable",value:function sizeTable(){var conteneurH=document.getElementById("PopulationConteneur").clientHeight;var titreH=document.getElementById("PopTitle").offsetHeight;document.getElementById("population").style.height=conteneurH-titreH+"px"}},{key:"centerInParent",value:function centerInParent(node){node.style.marginTop="40px"}},{key:"majPopInfo",value:function majPopInfo(actif,elim){document.getElementById("nbActif").innerHTML=actif;document.getElementById("nbElim").innerHTML=elim}},{key:"createUnactiveButton",value:function createUnactiveButton(char,text,reason){var _this2=this;var buttonElm=document.createElement("button");buttonElm.addEventListener("click",function(){_this2.getChar(char).unactive(reason)});buttonElm.innerText=text;return buttonElm}},{key:"createActiveButton",value:function createActiveButton(char,text){var _this3=this;var buttonElm=document.createElement("button");buttonElm.addEventListener("click",function(){_this3.getChar(char).active()});buttonElm.innerText=text;return buttonElm}},{key:"createButtons",value:function createButtons(){var buttonsElm=document.getElementById("populationButtons");buttonsElm.appendChild(this.createUnactiveButton(0,"Désactive perso 0","Trop moche"));buttonsElm.appendChild(this.createActiveButton(0,"Active perso 0"));buttonsElm.appendChild(this.createUnactiveButton(1,"Désactive perso 1","Cheveux blond"));buttonsElm.appendChild(this.createActiveButton(1,"Active perso 1"))}}]);return PopulationPanel}();__webpack_exports__["a"]=PopulationPanel},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Common__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_1__AttributesPanel__=__webpack_require__(4);var __WEBPACK_IMPORTED_MODULE_2__Application__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_3__Attribute__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_4__Main__=__webpack_require__(0);var instance=void 0;var StrategyPanel=function(){function StrategyPanel(){_classCallCheck(this,StrategyPanel);this.element=document.getElementById("strategie-network");if(!(this.element instanceof HTMLElement)){throw new Error("@StrategyPanel() -> Erreur : element doit être une instance de HTMLElement d'id 'attributs'")}this.nodes=new vis.DataSet([]);this.edges=new vis.DataSet([]);this.data={nodes:this.nodes,edges:this.edges};this.network=new vis.Network(this.element,this.data,__WEBPACK_IMPORTED_MODULE_0__Common__["a"]);this.setNetworkHandler("click",this.onClick);this.setNetworkHandler("doubleClick",this.onDoubleClick);this.setNetworkHandler("selectNode",this.onSelectNode);this.setNetworkHandler("deselectNode",this.onDeselectNode);instance=this;this.addNode(1,"",0)}_createClass(StrategyPanel,[{key:"network",value:function network(){return this.network}},{key:"getEdge",value:function getEdge(id){return this.data.edges.get(id)}},{key:"getNode",value:function getNode(id){return this.data.nodes.get(id)}},{key:"setNetworkHandler",value:function setNetworkHandler(event,handler){if(typeof event==="string"&&typeof handler==="function"){if(__WEBPACK_IMPORTED_MODULE_0__Common__["b"](event)){this.network.on(event,handler)}}}},{key:"deleteNode",value:function deleteNode(node){this.data.nodes.remove(node)}},{key:"getParentId",value:function getParentId(id){this.data.edges.forEach(function(edge){if(edge.to===id){return edge.from}});return undefined}},{key:"getChildsIds",value:function getChildsIds(id){var sons=[];this.data.edges.forEach(function(edge){if(edge.from===id){sons.push(edge.to)}});return sons}},{key:"enableNode",value:function enableNode(id){if(id===undefined){return}this.data.nodes.update([{id:id,enabled:true,color:{background:"#D2E5FF",border:"#2B7CE9",highlight:{background:"#D2E5FF",border:"#2B7CE9"},hover:{background:"#D2E5FF",border:"#2B7CE9"}}}])}},{key:"disableNode",value:function disableNode(id){var _this4=this;if(id===undefined){return}this.data.nodes.update([{id:id,enabled:false,color:{background:"#848484",border:"#2E2E2E",highlight:{background:"#A4A4A4",border:"#2E2E2E"},hover:{background:"#A4A4A4",border:"#2E2E2E"}}}]);var allDisabled=true;var sons=[];this.data.edges.forEach(function(edge){if(edge.from===id){var son=_this4.getNode(edge.to);sons.push(son);if(son.enabled){allDisabled=false}}});if(allDisabled&&sons.length!==0){sons.forEach(function(son){_this4.deleteNode(son)})}}},{key:"updateNode",value:function updateNode(id){if(this.getNode(id).enabled){this.disableNode(id)}else{this.enableNode(id)}}},{key:"addNode",value:function addNode(id,label,level){this.data.nodes.add({id:id,label:label,level:level});this.getNode(id).attribute=null;this.disableNode(id)}},{key:"onClick",value:function onClick(params){params.event="[original event]";document.getElementById("eventSpan").innerHTML="<h2>Click event:</h2>"+JSON.stringify(params,null,4);console.log("click event, getNodeAt returns: "+this.getNodeAt(params.pointer.DOM))}},{key:"onDoubleClick",value:function onDoubleClick(params){var clickedNode=this.getNodeAt(params.pointer.DOM);params.event="[original event]";document.getElementById("eventSpan").innerHTML="<h2>DoubleClick event:</h2>"+JSON.stringify(params,null,4);console.log("click event, getNodeAt returns: "+clickedNode)}},{key:"onSelectNode",value:function onSelectNode(params){if(__WEBPACK_IMPORTED_MODULE_4__Main__["appInstance"]===undefined){return}__WEBPACK_IMPORTED_MODULE_4__Main__["appInstance"].getAttributesPanel().updateButtonsStatus()}},{key:"onDeselectNode",value:function onDeselectNode(params){if(__WEBPACK_IMPORTED_MODULE_4__Main__["appInstance"]===undefined){return}__WEBPACK_IMPORTED_MODULE_4__Main__["appInstance"].getAttributesPanel().updateButtonsStatus()}},{key:"getSelection",value:function getSelection(){var _this5=this;var selection=this.network.getSelectedNodes();var nodes=[];selection.forEach(function(id){nodes.push(_this5.getNode(id))});return nodes}},{key:"getNodes",value:function getNodes(ids){var _this6=this;if(Array.isArray(ids)){var nodes=[];ids.forEach(function(id){var node=_this6.getNode(id);if(node!==undefined){nodes.push(node)}});return nodes}else{return this.nodes}}},{key:"setAttributeToSelection",value:function setAttributeToSelection(attribute){if(attribute!==null&&!(attribute instanceof __WEBPACK_IMPORTED_MODULE_3__Attribute__["a"])){throw new Error("@StrategyPanel() -> Erreur : attribute doit être une instance de Attribute")}var selection=this.getSelection();if(Array.isArray(selection)&&selection.length===1){var selectedNode=selection[0];selectedNode.attribute=attribute;if(attribute===null){this.nodes.update({id:selectedNode.id,label:""})}else{this.nodes.update({id:selectedNode.id,label:attribute.getShortText()});this.updateNode(selectedNode.id)}}}}]);return StrategyPanel}();__webpack_exports__["a"]=StrategyPanel},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Attribute__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_1__attributs__=__webpack_require__(8);var __WEBPACK_IMPORTED_MODULE_1__attributs___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__attributs__);var AttributesCollection=function(){function AttributesCollection(){var _this7=this;_classCallCheck(this,AttributesCollection);this.attributs=__WEBPACK_IMPORTED_MODULE_1__attributs___default.a["attributs"];this.attributesMap=this.getAttributesValuesKeysMap();this.attributesMap.forEach(function(attribute){_this7.attributesMap[attribute].forEach(function(value){_this7.attributesMap[attribute][value]=undefined})});this.prettyPrint()}_createClass(AttributesCollection,[{key:"getAttributesKeys",value:function getAttributesKeys(){return _.allKeys(this.attributs)}},{key:"getValuesKeys",value:function getValuesKeys(attribute){if(this.checkAttributeExists(attribute)){return _.allKeys(this.attributs[attribute])}else{return undefined}}},{key:"getAttributeJSON",value:function getAttributeJSON(attribute,value){if(this.checkValueExists(attribute,value)){return this.attributs[attribute][value]}else{return undefined}}},{key:"getAttributeInstance",value:function getAttributeInstance(attribute,value){var jsonAttribute=this.getAttributeJSON(attribute,value);if(jsonAttribute!==undefined){if(this.attributesMap[attribute][value]===undefined){var attr=new __WEBPACK_IMPORTED_MODULE_0__Attribute__["a"](jsonAttribute,attribute,value);this.attributesMap[attribute][value]=attr;return attr}else{return this.attributesMap[attribute][value]}}return undefined}},{key:"checkAttributeExists",value:function checkAttributeExists(attribute){return typeof attribute==="string"&&this.getAttributesKeys().includes(attribute)}},{key:"checkValueExists",value:function checkValueExists(attribute,value){if(this.checkAttributeExists(attribute)){return this.getValuesKeys(attribute).includes(value)}else{return false}}},{key:"getAttributesValuesKeysMap",value:function getAttributesValuesKeysMap(){var _this8=this;var map=this.getAttributesKeys();if(map!==undefined){map.forEach(function(key){map[key]=_this8.getValuesKeys(key)})}return map}},{key:"prettyPrint",value:function prettyPrint(){var map=this.getAttributesValuesKeysMap();if(map.length<1){console.log("Map des attributs vide")}else{map.forEach(function(attribute){console.log("Valeurs pour l'attribut '"+attribute+"' :");map[attribute].forEach(function(value){console.log("\t"+value)})})}}}]);return AttributesCollection}();var singleton=new AttributesCollection;__webpack_exports__["a"]=singleton},function(module,exports){module.exports={attributs:{cheveux:{chauve:{long:"Le personnage est chauve ?",court:"Chauve ?"},blond:{long:"Le personnage est blond ?",court:"Cheveux blond ?"},brun:{long:"Le personnage est brun ?",court:"Cheveux brun ?"}},yeux:{marron:{long:"Le personnage a les yeux marron ?",court:"Yeux marron ?"},bleu:{long:"Le personnage a les yeux bleu ?",court:"Yeux bleu ?"},vert:{long:"Le personnage a les yeux vert ?",court:"Yeux vert ?"}}}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Common__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_1__Attribute__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2__AttributesPanel__=__webpack_require__(4);var nextButtonId=0;var AttributeButton=function(){function AttributeButton(attribute,attributePanel){var _this9=this;_classCallCheck(this,AttributeButton);if(!(attribute instanceof __WEBPACK_IMPORTED_MODULE_1__Attribute__["a"])){throw new Error("L'argument attribute doit être une instance de Attribute")}if(!(attributePanel instanceof __WEBPACK_IMPORTED_MODULE_2__AttributesPanel__["a"])){throw new Error("L'argument attributePanel doit être une de AttributePanel")}this.attributePanel=attributePanel;this.element=document.createElement("button");this.element.setAttribute("id","attributeButton"+nextButtonId);this.element.setAttribute("class","attributeButton");this.element.addEventListener("click",function(event){return _this9.onClick(event)});this.attributePanel.getElement().appendChild(this.element);nextButtonId++;this.hidden=false;this.attribute=attribute;this.setText(this.attribute.getLongText())}_createClass(AttributeButton,[{key:"hide",value:function hide(){if(!this.hidden){this.element.setAttribute("style","display: none;")}}},{key:"show",value:function show(){if(this.hidden){this.element.removeAttribute("style")}}},{key:"onClick",value:function onClick(event){this.attributePanel.onButtonClick(this)}},{key:"isHidden",value:function isHidden(){return this.hidden}},{key:"setText",value:function setText(text){if(typeof text==="string"){this.element.innerText=text}}},{key:"getAttribute",value:function getAttribute(){return this.attribute}}]);return AttributeButton}();__webpack_exports__["a"]=AttributeButton},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Application__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_1__Main__=__webpack_require__(0);var InformationsPanel=function InformationsPanel(){_classCallCheck(this,InformationsPanel)};__webpack_exports__["a"]=InformationsPanel},function(module,__webpack_exports__,__webpack_require__){"use strict";var Character=function(){function Character(json,id){_classCallCheck(this,Character);this.id=id;this.nom=json.nom;this.img=json.img;this.actived=true;this.attributs=[];for(var i=0;i<json.attributs.length;i++){}}_createClass(Character,[{key:"getImg",value:function getImg(){return this.img}},{key:"getNom",value:function getNom(){return this.nom}},{key:"getAttributs",value:function getAttributs(){return this.attributs}},{key:"active",value:function active(){if(this.actived)return;document.getElementById("charimg"+this.id).style.filter="";document.getElementById("charfigure"+this.id).style.borderColor="grey";document.getElementById("charstatus"+this.id).innerHTML="Suspect";this.actived=true}},{key:"unactive",value:function unactive(reason){if(!this.actived)return;document.getElementById("charimg"+this.id).style.filter="grayscale(100%)";document.getElementById("charfigure"+this.id).style.borderColor="#A61011";document.getElementById("charstatus"+this.id).innerHTML="Eliminé : "+reason;this.actived=false}},{key:"listeAttribute",value:function listeAttribute(){var res="";for(var i=0;i<this.attributs.length;i++){res+=this.attributs[i].attributeKey+":"+this.attributs[i].attributeValue+"</br>"}}},{key:"check",value:function check(tabAttributs){for(var i=0;i<tabAttributs.length;i++){if(this.attributs.find(tabAttributs[i])==undefined){this.unactive(tabAttributs[i].court);return false}}return true}}]);return Character}();__webpack_exports__["a"]=Character}]);